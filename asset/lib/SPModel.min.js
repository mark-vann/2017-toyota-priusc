(function(){function e(){parent.TheModel?SPModel.init(parent.TheModel):setTimeout(e,50)}window.SPModel=function(){function e(){this.device=null;this.isReady=!1}var c,f,d={};ptt=e.prototype;ptt.addEventListener=function(a,b){d[a]||(d[a]=[]);-1===d[a].indexOf(b)&&d[a].push(b)};ptt.hasEventListener=function(a,b){return d[a]&&d[a].length?b?-1!==d[a].indexOf(b):!0:!1};ptt.removeEventListener=function(a,b){if(d[a]&&d[a].length)if(b){var c=d[a].indexOf(b);-1!==c&&d[a].splice(c,1)}else d[a]=[]};ptt.dispatchEvent=
function(a){d[a.type]&&d[a.type].length&&(a.target=this,d[a.type].forEach(function(b){b.call(a.target,a)}))};ptt.init=function(a){if(!this.isReady){var b=this;c=a;f=c.getIframe(window);if(!f)throw Error("getIframe ERROR");c.once("loaded",function(){b.dispatchEvent({type:"loaded"})});c.on("resize",function(a,c){b.dispatchEvent({type:"resize",parentWidth:a,parentHeight:c})});c.on("MediaQuery",function(a){b.dispatchEvent({type:"MediaQuery",matches:a.matches,media:a.media})});b.device=c.device;b.isReady=
!0;b.dispatchEvent({type:"ready"})}};ptt.getParentWidth=function(){return c.windowWidth};ptt.getParentHeight=function(){return c.windowHeight};ptt.getParentScroll=function(){return c.bodyScrollTop};ptt.getMediaQuery=function(){return c.mediaQuery};ptt.getIframeYpos=function(){return f.parentNode.offsetTop};ptt.setIframeHeight=function(a){f.parentNode.style.height=a+"px"};ptt.setParentScroll=function(a,b){b?c.scrollTop(a,b):c.scrollTop(a)};return new e}();e()})();